http://developer.chrome.com/extensions/tabCapture.html#method-capture
http://stackoverflow.com/questions/14976460/html5-video-recording-and-upload
http://html5-demos.appspot.com/static/getusermedia/record-user-webm.html
http://ericbidelman.tumblr.com/post/31486670538/creating-webm-video-from-getusermedia
http://smus.com/screen-capture-for-chrome-os/

navigator.getUserMedia({video: true, audio: true}, function(localMediaStream) {
    var video = document.querySelector('video');
    video.src = window.URL.createObjectURL(localMediaStream);
    // Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.
    // See crbug.com/110938.
    video.onloadedmetadata = function(e) {
        // Ready to go. Do some stuff.
    };
}, onFailSoHard);

$('#stop-button').click(function(e) {
    video.pause();
    localMediaStream.stop();
});


function sendXHR(){
    //Envia bien blob, no interpretado
    var xhr = new XMLHttpRequest();
    var video=$("#myexportingvideo");
    xhr.open('GET', video.src , true);
    xhr.responseType = 'blob';
    xhr.onload = function(e) {
        if (this.status == 200) {
            // Note: .response instead of .responseText
            var blob = new Blob([this.response], {type: 'video/webm'});
            console.log(blob.size/1024);
            console.log(blob.type);
            form = new FormData(),
            request = new XMLHttpRequest();
            form.append("myblob",blob,"Capture.webm");
            form.append("myname",$("#name_test").value);
            request.open("POST","./UploadServlet",true);
            request.send(form);
        }
    };
    xhr.send();
}
